<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TSP · Admin · Ciclos</title>

  <link rel="stylesheet" href="../../css/content.css" />

  <style>
    :root{
      --brand:#1E5CFF;
      --brand-ink:#0F274F;
      --ink:#263245;
      --muted:#66758A;
      --bg:#F6F8FC;
      --card:#FFFFFF;
      --ui:#E6EDF7;
      --line:#E4EAF3;
      --focus:#AECBFF;
      --radius:12px;
      --h1:22px;
      --h2:15px;
      --text:14px;
      --small:12px;
      --control-h:36px;
    }

    html,body{ background:var(--bg); color:var(--ink); font:14px/1.35 system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial; }
    .wrap{ max-width:1060px; margin:0 auto; padding:18px 16px 56px; }

    .hero{
      background:linear-gradient(180deg,#1649CC 0%,#0F3AA4 100%);
      color:#fff; border-radius:12px;
      padding:16px 18px; margin:0 0 16px;
      box-shadow:0 6px 18px rgba(15,48,130,.12);
    }
    .hero h1{ font-size:22px; margin:0 0 4px; font-weight:700; letter-spacing:.2px; }
    .subtitle{ opacity:.9; font-size:14px; }

    .card{
      background:var(--card); border:1px solid var(--line);
      border-radius:12px; padding:14px; margin:0 0 12px;
      box-shadow:0 1px 0 rgba(16,24,40,.02);
    }
    .card h2{ font-size:15px; font-weight:700; color:var(--brand-ink); margin:0 0 10px; letter-spacing:.2px; }

    label{ display:block; font-size:12.5px; color:var(--muted); margin:0 0 6px; }

    select, input[type="text"], textarea{
      width:100%; border:1px solid var(--ui);
      border-radius:10px; background:#fff; padding:8px 10px; outline:none;
      transition:border-color .15s, box-shadow .15s;
    }
    select{ height:36px; padding:0 10px; }
    textarea{ min-height:36px; resize:vertical; }
    select:focus, input[type="text"]:focus, textarea:focus{ border-color:var(--brand); box-shadow:0 0 0 3px var(--focus); }
    select:disabled, input:disabled, textarea:disabled{ background:#F4F7FC; color:#8A98AD; }

    .inline{ display:flex; gap:10px; align-items:center; }
    .grid-2{ display:grid; grid-template-columns:1fr 1fr; gap:22px; }
    .grid-2 > *{ min-width:0; } /* evita desbordes de inputs/textarea */

    .hints{ color:var(--muted); font-size:12px; margin-top:6px; }

    .narrow{ max-width:360px; }
    @media (max-width:760px){ .narrow{ max-width:none; width:100%; } .grid-2{ grid-template-columns:1fr; } }

    #juegosSel{ min-height:110px; }

    .btn{
      height:36px; border-radius:10px; padding:0 14px;
      border:1px solid transparent; font-weight:700; letter-spacing:.2px;
      cursor:pointer; transition:transform .02s, box-shadow .15s, background .15s, border-color .15s;
      user-select:none;
    }
    .btn:active{ transform:translateY(1px); }
    .btn-primary{ background:var(--brand); color:#fff; border-color:var(--brand); box-shadow:0 6px 16px rgba(30,92,255,.18); }
    .btn-primary:hover{ filter:brightness(.98); }
    .btn-outline{ background:#fff; color:var(--ink); border-color:var(--ui); }
    .btn-outline:hover{ border-color:var(--brand); }
    .btn-light{ background:#F4F7FD; color:var(--ink); border-color:var(--ui); }
    .btn:disabled{ opacity:.55; cursor:not-allowed; box-shadow:none; }
    .actions{ display:flex; gap:10px; margin-top:10px; }

    /* --- Fix: evitar que "Descripción" se salga del card --- */
*, *::before, *::after { box-sizing: border-box; }

.card { overflow: hidden; }                 /* corta cualquier “salida” accidental */
.grid-2 {                                   /* columnas que sí pueden encogerse */
  grid-template-columns: minmax(0,1fr) minmax(0,1fr);
  gap: 16px;                                /* un poco menos de separación */
}
.grid-2 > * { min-width: 0; }               /* permite que los hijos no fuercen ancho */

input[type="text"], select, textarea {
  max-width: 100%;                          /* nunca más anchos que su columna */
}

  </style>
</head>
<body>
  <div class="wrap">

    <header class="hero">
      <h1>Ciclos (Admin)</h1>
      <p class="subtitle">Wizard de creación (5 pasos) y listado con acciones.</p>
    </header>

    <!-- 1. Grado -->
    <section class="card">
      <h2>1. Grado</h2>
      <div class="inline" style="justify-content:space-between; align-items:flex-end;">
        <div>
          <label for="gradoSel">Grado</label>
          <select id="gradoSel" class="narrow"></select>
        </div>
        <div class="hints" style="margin-left:12px;">Filtra lecturas, desafíos y juegos.</div>
      </div>
    </section>

    <!-- 2 y 3 -->
    <section class="grid-2">
      <div class="card">
        <h2>2. Lectura</h2>
        <div class="inline">
          <select id="lecturaSel" style="flex:1"></select>
          <button id="btnPreviewLectura" class="btn btn-outline" disabled>Preview</button>
        </div>
        <p class="hints">El PDF se abrirá en una pestaña nueva.</p>
      </div>

      <div class="card">
        <h2>3. Desafío</h2>
        <div class="inline">
          <select id="desafioSel" style="flex:1"></select>
          <button id="btnPreviewDesafio" class="btn btn-outline" disabled>Preview</button>
        </div>
      </div>
    </section>

    <!-- 4. Juegos -->
    <section class="card">
      <h2>4. Juegos (0–3)</h2>
      <label for="juegosSel">Selecciona hasta 3 juegos</label>
      <select id="juegosSel" multiple size="5"></select>
      <p class="hints">Puedes crear ciclos sólo con lectura, sólo con desafío, sólo con juegos… o cualquier combinación.</p>
    </section>

    <!-- 5. Resumen -->
    <section class="card">
      <h2>5. Resumen</h2>
      <div class="grid-2">
        <div>
          <label for="nombreCiclo">Nombre del ciclo</label>
          <input id="nombreCiclo" type="text" placeholder="Ej. Ciclo grado 5 · Agosto" maxlength="80" />
        </div>
        <div>
          <label for="descCiclo">Descripción (opcional)</label>
          <textarea id="descCiclo" placeholder="Notas internas" rows="2" maxlength="250"></textarea>
        </div>
      </div>
      <div class="actions">
        <button id="btnCrear" class="btn btn-primary">Crear y publicar</button>
        <button id="btnLimpiar" class="btn btn-light">Limpiar</button>
      </div>
    </section>

  </div>

  <script type="module" src="../../js/ciclos.js"></script>
</body>
</html>
